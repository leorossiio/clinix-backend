--Migration:
-- Criar tabela de Usuários
CREATE TABLE Usuarios (
    ID_usuario SERIAL PRIMARY KEY,
    Nome VARCHAR(255) NOT NULL,
    Email VARCHAR(255) UNIQUE NOT NULL,
    Senha VARCHAR(255) NOT NULL,
    Tipo_usuario VARCHAR(50) NOT NULL CHECK (Tipo_usuario IN ('Paciente', 'Medico')),
    CRM VARCHAR(20) UNIQUE NULL, -- Apenas para médicos
    Especialidade VARCHAR(255) NULL -- Apenas para médicos
);

-- Criar tabela de Consultas
CREATE TABLE Consultas (
    ID_consulta SERIAL PRIMARY KEY,
    ID_usuario INT NOT NULL,
    Data TIMESTAMP NOT NULL,
    Status_consulta VARCHAR(50) NOT NULL,
    Tipo_atendimento VARCHAR(255) NOT NULL,
    CRM VARCHAR(20) NOT NULL, -- CRM do médico
    FOREIGN KEY (ID_usuario) REFERENCES Usuarios(ID_usuario) ON DELETE CASCADE,
    FOREIGN KEY (CRM) REFERENCES Usuarios(CRM) ON DELETE CASCADE -- Referência ao CRM do médico
);

-- Criar tabela de Notificações
CREATE TABLE Notificacoes (
    ID_notificacao SERIAL PRIMARY KEY,
    ID_consulta INT NOT NULL,
    Data TIMESTAMP NOT NULL,
    Lembrete TEXT NOT NULL,
    FOREIGN KEY (ID_consulta) REFERENCES Consultas(ID_consulta) ON DELETE CASCADE
);

--Exemplos de inserts:
-- Inserir um médico
INSERT INTO Usuarios (Nome, Email, Senha, Tipo_usuario, CRM, Especialidade) 
VALUES ('Dr. João Silva', 'joao.silva@email.com', 'senha123', 'Medico', 'CRM12345', 'Cardiologia');

-- Inserir um paciente
INSERT INTO Usuarios (Nome, Email, Senha, Tipo_usuario) 
VALUES ('Maria Oliveira', 'maria.oliveira@email.com', 'senha456', 'Paciente');

-- Inserir uma consulta
INSERT INTO Consultas (ID_usuario, Data, Status_consulta, Tipo_atendimento, CRM) 
VALUES (2, '2025-04-01 10:00:00', 'Agendada', 'Presencial', 'CRM12345');

-- Inserir uma notificação
INSERT INTO Notificacoes (ID_consulta, Data, Lembrete) 
VALUES (1, '2025-03-31 08:00:00', 'Lembrete: Consulta marcada para amanhã às 10h.');

Principais comandos:
1- npm i
2- npm install pg
3- npm install @supabase/supabase-js
4- npm install dotenv